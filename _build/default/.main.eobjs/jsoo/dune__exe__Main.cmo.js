// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cmo, use-js-string=true, version=5.9.1

//# unitInfo: Provides: Dune__exe__Main
//# unitInfo: Requires: Js_of_ocaml__Dom, Js_of_ocaml__Dom_html, Js_of_ocaml__Js, Js_of_ocaml_lwt__Lwt_js, Js_of_ocaml_lwt__Lwt_js_events, Lwt, Stdlib, Stdlib__List, Stdlib__Random
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_20px = "20px",
    cst_lime$0 = "lime",
    cst_px$11 = "px",
    caml_jsstring_of_string = runtime.caml_jsstring_of_string,
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_mul = runtime.caml_mul,
    caml_wrap_exception = runtime.caml_wrap_exception;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) === 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) === 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) === 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) === 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    Stdlib_Random = global_data.Stdlib__Random,
    Stdlib = global_data.Stdlib,
    Js_of_ocaml_lwt_Lwt_js = global_data.Js_of_ocaml_lwt__Lwt_js,
    Lwt = global_data.Lwt,
    Stdlib_List = global_data.Stdlib__List,
    Js_of_ocaml_lwt_Lwt_js_events = global_data.Js_of_ocaml_lwt__Lwt_js_events,
    Js_of_ocaml_Dom_html = global_data.Js_of_ocaml__Dom_html,
    Js_of_ocaml_Dom = global_data.Js_of_ocaml__Dom,
    document = Js_of_ocaml_Dom_html[2],
    world = caml_call1(Js_of_ocaml_Dom_html[4], "world"),
    creets = [0, 0],
    cst_px = cst_px$11,
    cst_px$0 = cst_px$11,
    cst_px$1 = cst_px$11,
    cst_px$2 = cst_px$11,
    cst_px$3 = cst_px$11,
    cst_px$4 = cst_px$11,
    cst_px$5 = cst_px$11,
    cst_px$6 = cst_px$11,
    cst_px$7 = cst_px$11,
    cst_px$8 = cst_px$11,
    cst_px$9 = cst_px$11,
    cst_px$10 = cst_px$11,
    cst_lime = cst_lime$0;
   function infect_creet(param){
    var st = param[2], t23 = param[1], _O_ = 1 - st[5];
    if(_O_)
     var _P_ = 1 - st[10], _Q_ = _P_ ? 1 - st[9] : _P_;
    else
     var _Q_ = _O_;
    if(_Q_){
     st[5] = 1;
     var t31 = t23.style;
     t31.backgroundColor = "red";
     var r = caml_call1(Stdlib_Random[10], 1.);
     if(r < 0.1){
      st[6] = 1;
      st[7] = 0;
      var t34 = t23.style;
      t34.backgroundColor = "purple";
      return caml_call1
              (Lwt[11],
               function(param){
                var initial_size = st[8], target_size = initial_size * 4 | 0;
                function loop(param){
                 if(st[6] && st[8] < target_size){
                  st[8] = st[8] + 1 | 0;
                  var
                   _V_ = caml_call1(Stdlib[33], st[8]),
                   t24 =
                     caml_jsstring_of_string
                      (caml_call2(Stdlib[28], _V_, cst_px$3)),
                   t25 = t23.style;
                  t25.width = t24;
                  var
                   _W_ = caml_call1(Stdlib[33], st[8]),
                   t27 =
                     caml_jsstring_of_string
                      (caml_call2(Stdlib[28], _W_, cst_px$4)),
                   t28 = t23.style;
                  t28.height = t27;
                  var ppx_lwt_0 = caml_call1(Js_of_ocaml_lwt_Lwt_js[1], 0.2);
                  return caml_call3
                          (Lwt[81],
                           function(exn){
                            try{throw caml_maybe_attach_backtrace(exn, 0);}
                            catch(exn){
                             var exn$0 = caml_wrap_exception(exn);
                             return exn$0;
                            }
                           },
                           ppx_lwt_0,
                           function(param){return loop(0);});
                 }
                 return Lwt[36];
                }
                return loop(0);
               });
     }
     var _R_ = r < 0.2 ? 1 : 0;
     if(_R_){
      st[7] = 1;
      st[6] = 0;
      st[8] = st[8] * 0.85 | 0;
      var t37 = t23.style;
      t37.backgroundColor = "orange";
      var
       _S_ = caml_call1(Stdlib[33], st[8]),
       t39 = caml_jsstring_of_string(caml_call2(Stdlib[28], _S_, cst_px$5)),
       t40 = t23.style;
      t40.width = t39;
      var
       _T_ = caml_call1(Stdlib[33], st[8]),
       t42 = caml_jsstring_of_string(caml_call2(Stdlib[28], _T_, cst_px$6)),
       t43 = t23.style;
      return t43.height = t42;
     }
     var _U_ = _R_;
    }
    else
     var _U_ = _Q_;
    return _U_;
   }
   function move_creet(t46, st1){
    if(1 - st1[9]){
     if(st1[7]){
      var best = [0, 0], min_d = [0, Stdlib[19]];
      caml_call2
       (Stdlib_List[17],
        function(param){
         var
          other = param[2],
          _J_ = 1 - other[5],
          _K_ = _J_ ? 1 - other[9] : _J_;
         if(_K_)
          var
           dx = other[1] - st1[1] | 0,
           dy = other[2] - st1[2] | 0,
           d = caml_mul(dx, dx) + caml_mul(dy, dy) | 0,
           _L_ = d < min_d[1] ? 1 : 0,
           _M_ = _L_ ? (min_d[1] = d, best[1] = [0, other], 0) : _L_,
           _N_ = _M_;
         else
          var _N_ = _K_;
         return _N_;
        },
        creets[1]);
      var match = best[1];
      if(match){
       var t = match[1], dx = t[1] - st1[1] | 0, dy = t[2] - st1[2] | 0;
       if(0 !== dx){var _p_ = 0 < dx ? 2 : -2; st1[3] = _p_;}
       if(0 !== dy){var _q_ = 0 < dy ? 2 : -2; st1[4] = _q_;}
      }
     }
     if(caml_call1(Stdlib_Random[10], 1.) < 0.01){
      st1[3] = caml_call1(Stdlib_Random[5], 5) - 2 | 0;
      st1[4] = caml_call1(Stdlib_Random[5], 5) - 2 | 0;
     }
     var
      w = world.clientWidth,
      h = world.clientHeight,
      nx = st1[1] + st1[3] | 0,
      ny = st1[2] + st1[4] | 0;
     a:
     {
      if(0 <= nx && (w - st1[8] | 0) >= nx){
       var nx$0 = nx, dx$0 = st1[3];
       break a;
      }
      var
       _r_ = caml_call2(Stdlib[16], w - st1[8] | 0, nx),
       _s_ = caml_call2(Stdlib[17], 0, _r_),
       nx$0 = _s_,
       dx$0 = - st1[3] | 0;
     }
     a:
     {
      if(0 <= ny && (h - st1[8] | 0) >= ny){
       var ny$0 = ny, dy$0 = st1[4];
       break a;
      }
      var
       _t_ = caml_call2(Stdlib[16], h - st1[8] | 0, ny),
       _u_ = caml_call2(Stdlib[17], 0, _t_),
       ny$0 = _u_,
       dy$0 = - st1[4] | 0;
     }
     st1[3] = dx$0;
     st1[4] = dy$0;
     st1[1] = nx$0;
     st1[2] = ny$0;
     var _v_ = st1[2] < 50 ? 1 : 0;
     if(_v_)
      var _w_ = 1 - st1[5], _x_ = _w_ ? 1 - st1[10] : _w_;
     else
      var _x_ = _v_;
     if(_x_) infect_creet([0, t46, st1]);
     var _y_ = st1[5];
     if(_y_)
      var _z_ = st1[9], _A_ = _z_ ? (h - 70 | 0) < st1[2] ? 1 : 0 : _z_;
     else
      var _A_ = _y_;
     if(_A_){
      st1[5] = 0;
      st1[6] = 0;
      st1[7] = 0;
      st1[8] = 20;
      var t48 = t46.style;
      t48.backgroundColor = cst_lime$0;
      var t51 = t46.style;
      t51.width = cst_20px;
      var t54 = t46.style;
      t54.height = cst_20px;
     }
     var
      _B_ = caml_call1(Stdlib[33], st1[1]),
      t56 = caml_jsstring_of_string(caml_call2(Stdlib[28], _B_, cst_px$7)),
      t57 = t46.style;
     t57.left = t56;
     var
      _C_ = caml_call1(Stdlib[33], st1[2]),
      t59 = caml_jsstring_of_string(caml_call2(Stdlib[28], _C_, cst_px$8)),
      t60 = t46.style;
     t60.top = t59;
    }
    if(st1[5])
     caml_call2
      (Stdlib_List[17],
       function(param){
        var st2 = param[2], d2 = param[1], _E_ = 1 - st2[5];
        if(_E_)
         var _F_ = 1 - st2[10], _G_ = _F_ ? 1 - st2[9] : _F_;
        else
         var _G_ = _E_;
        if(_G_){
         var
          r1 = st1[8] / 2 | 0,
          r2 = st2[8] / 2 | 0,
          dx = (st1[1] + r1 | 0) - (st2[1] + r2 | 0) | 0,
          dy = (st1[2] + r1 | 0) - (st2[2] + r2 | 0) | 0,
          dist2 = caml_mul(dx, dx) + caml_mul(dy, dy) | 0,
          _D_ = dist2 < caml_mul(r1 + r2 | 0, r1 + r2 | 0) ? 1 : 0,
          _H_ = _D_ ? caml_call1(Stdlib_Random[10], 1.) < 0.02 ? 1 : 0 : _D_;
         if(_H_) return infect_creet([0, d2, st2]);
         var _I_ = _H_;
        }
        else
         var _I_ = _G_;
        return _I_;
       },
       creets[1]);
    var
     delay = st1[5] ? 0.05 : 0.03,
     ppx_lwt_0 = caml_call1(Js_of_ocaml_lwt_Lwt_js[1], delay);
    return caml_call3
            (Lwt[81],
             function(exn){
              try{throw caml_maybe_attach_backtrace(exn, 0);}
              catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
             },
             ppx_lwt_0,
             function(param){return move_creet(t46, st1);});
   }
   function add_creet(color, x, y){
    var size = 20, t11 = caml_call1(Js_of_ocaml_Dom_html[51], document);
    t11.className = "creet";
    var t3 = caml_jsstring_of_string(color), t4 = t11.style;
    t4.backgroundColor = t3;
    var t7 = t11.style;
    t7.position = "absolute";
    var
     _b_ = caml_call1(Stdlib[33], size),
     t9 = caml_jsstring_of_string(caml_call2(Stdlib[28], _b_, cst_px)),
     t10 = t11.style;
    t10.width = t9;
    var
     _c_ = caml_call1(Stdlib[33], size),
     t12 = caml_jsstring_of_string(caml_call2(Stdlib[28], _c_, cst_px$0)),
     t13 = t11.style;
    t13.height = t12;
    var t16 = t11.style;
    t16.borderRadius = "50%";
    var
     _d_ = caml_call1(Stdlib[33], x),
     t18 = caml_jsstring_of_string(caml_call2(Stdlib[28], _d_, cst_px$1)),
     t19 = t11.style;
    t19.left = t18;
    var
     _e_ = caml_call1(Stdlib[33], y),
     t21 = caml_jsstring_of_string(caml_call2(Stdlib[28], _e_, cst_px$2)),
     t22 = t11.style;
    t22.top = t21;
    caml_call2(Js_of_ocaml_Dom[5], world, t11);
    var
     v = caml_call1(Stdlib_Random[5], 5) - 2 | 0,
     _f_ = 0,
     _g_ = 0,
     _h_ = 0,
     _i_ = 0,
     _j_ = 0,
     _k_ = 0 === v ? 1 : v,
     v$0 = caml_call1(Stdlib_Random[5], 5) - 2 | 0,
     _l_ = 0 === v$0 ? 1 : v$0,
     st = [0, x, y, _l_, _k_, _j_, _i_, _h_, size, _g_, _f_];
    creets[1] = [0, [0, t11, st], creets[1]];
    caml_call1(Lwt[11], function(param){return move_creet(t11, st);});
    return caml_call1
            (Lwt[11],
             function(param){
              var
               offset_x = [0, 0],
               offset_y = [0, 0],
               world_rect = [0, world.getBoundingClientRect()];
              caml_call1
               (Lwt[11],
                function(param){
                 return caml_call5
                         (Js_of_ocaml_lwt_Lwt_js_events[82],
                          0,
                          0,
                          0,
                          t11,
                          function(t64, param){
                           st[9] = 1;
                           st[10] = 1;
                           world_rect[1] = world.getBoundingClientRect();
                           var rect = t11.getBoundingClientRect();
                           offset_x[1] = t64.clientX - rect.left | 0;
                           offset_y[1] = t64.clientY - rect.top | 0;
                           return Lwt[36];
                          });
                });
              caml_call1
               (Lwt[11],
                function(param){
                 return caml_call5
                         (Js_of_ocaml_lwt_Lwt_js_events[83],
                          0,
                          0,
                          0,
                          document,
                          function(param, _o_){st[9] = 0; st[10] = 0; return Lwt[36];});
                });
              caml_call1
               (Lwt[11],
                function(param){
                 return caml_call5
                         (Js_of_ocaml_lwt_Lwt_js_events[85],
                          0,
                          0,
                          0,
                          document,
                          function(t68, param){
                           if(st[9]){
                            var
                             t69 = world_rect[1],
                             nx = (t68.clientX - t69.left | 0) - offset_x[1] | 0,
                             ny = (t68.clientY - t69.top | 0) - offset_y[1] | 0;
                            st[1] = nx;
                            st[2] = ny;
                            var
                             _m_ = caml_call1(Stdlib[33], nx),
                             t73 =
                               caml_jsstring_of_string
                                (caml_call2(Stdlib[28], _m_, cst_px$9)),
                             t74 = t11.style;
                            t74.left = t73;
                            var
                             _n_ = caml_call1(Stdlib[33], ny),
                             t76 =
                               caml_jsstring_of_string
                                (caml_call2(Stdlib[28], _n_, cst_px$10)),
                             t77 = t11.style;
                            t77.top = t76;
                           }
                           return Lwt[36];
                          });
                });
              return Lwt[36];
             });
   }
   function reproduction_loop(param){
    var
     healthy_exists =
       caml_call2
        (Stdlib_List[33],
         function(param){var st = param[2]; return 1 - st[5];},
         creets[1]),
     _a_ =
       healthy_exists
        ? caml_call1(Stdlib_Random[10], 1.) < 0.3 ? 1 : 0
        : healthy_exists;
    if(_a_){
     var
      x = caml_call1(Stdlib_Random[5], world.clientWidth - 30 | 0),
      y = caml_call1(Stdlib_Random[5], world.clientHeight - 30 | 0);
     add_creet(cst_lime, x, y);
    }
    var ppx_lwt_0 = caml_call1(Js_of_ocaml_lwt_Lwt_js[1], 2.);
    return caml_call3
            (Lwt[81],
             function(exn){
              try{throw caml_maybe_attach_backtrace(exn, 0);}
              catch(exn){var exn$0 = caml_wrap_exception(exn); return exn$0;}
             },
             ppx_lwt_0,
             function(param){return reproduction_loop(0);});
   }
   caml_call1(Stdlib_Random[3], 0);
   add_creet(cst_lime$0, 200, 200);
   caml_call1(Lwt[11], reproduction_loop);
   var Dune_exe_Main = [0];
   runtime.caml_register_global(104, Dune_exe_Main, "Dune__exe__Main");
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLm1haW4uZW9ianMvanNvby9kdW5lX19leGVfX01haW4uY21vLmpzIiwic2VjdGlvbnMiOlt7Im9mZnNldCI6eyJsaW5lIjo5LCJjb2x1bW4iOjB9LCJtYXAiOnsidmVyc2lvbiI6MywiZmlsZSI6Ii5tYWluLmVvYmpzL2pzb28vZHVuZV9fZXhlX19NYWluLmNtby5qcyIsIm5hbWVzIjpbInJ1bnRpbWUiLCJjc3RfMjBweCIsImNzdF9saW1lIiwiY3N0X3B4IiwiY2FtbF9qc3N0cmluZ19vZl9zdHJpbmciLCJjYW1sX21heWJlX2F0dGFjaF9iYWNrdHJhY2UiLCJjYW1sX211bCIsImNhbWxfd3JhcF9leGNlcHRpb24iLCJjYW1sX2NhbGwxIiwiZiIsImEwIiwiY2FtbF9jYWxsMiIsImExIiwiY2FtbF9jYWxsMyIsImEyIiwiY2FtbF9jYWxsNSIsImEzIiwiYTQiLCJnbG9iYWxfZGF0YSIsIlN0ZGxpYl9SYW5kb20iLCJTdGRsaWIiLCJKc19vZl9vY2FtbF9sd3RfTHd0X2pzIiwiTHd0IiwiU3RkbGliX0xpc3QiLCJKc19vZl9vY2FtbF9sd3RfTHd0X2pzX2V2ZW50cyIsIkpzX29mX29jYW1sX0RvbV9odG1sIiwiSnNfb2Zfb2NhbWxfRG9tIiwiZG9jdW1lbnQiLCJ3b3JsZCIsImNyZWV0cyIsImluZmVjdF9jcmVldCIsInBhcmFtIiwic3QiLCJ0MjMiLCJ0MzEiLCJyIiwidDM0IiwiaW5pdGlhbF9zaXplIiwidGFyZ2V0X3NpemUiLCJsb29wIiwidDI0IiwidDI1IiwidDI3IiwidDI4IiwicHB4X2x3dF8wIiwiZXhuIiwidDM3IiwidDM5IiwidDQwIiwidDQyIiwidDQzIiwibW92ZV9jcmVldCIsInQ0NiIsInN0MSIsImJlc3QiLCJtaW5fZCIsIm90aGVyIiwiZHgiLCJkeSIsImQiLCJtYXRjaCIsInQiLCJ3IiwiaCIsIm54IiwibnkiLCJ0NDgiLCJ0NTEiLCJ0NTQiLCJ0NTYiLCJ0NTciLCJ0NTkiLCJ0NjAiLCJzdDIiLCJkMiIsInIxIiwicjIiLCJkaXN0MiIsImRlbGF5IiwiYWRkX2NyZWV0IiwiY29sb3IiLCJ4IiwieSIsInNpemUiLCJ0MTEiLCJ0MyIsInQ0IiwidDciLCJ0OSIsInQxMCIsInQxMiIsInQxMyIsInQxNiIsInQxOCIsInQxOSIsInQyMSIsInQyMiIsInYiLCJvZmZzZXRfeCIsIm9mZnNldF95Iiwid29ybGRfcmVjdCIsInQ2NCIsInJlY3QiLCJ0NjgiLCJ0NjkiLCJ0NzMiLCJ0NzQiLCJ0NzYiLCJ0NzciLCJyZXByb2R1Y3Rpb25fbG9vcCIsImhlYWx0aHlfZXhpc3RzIiwiRHVuZV9leGVfTWFpbiJdLCJzb3VyY2VzIjpbIi9idWlsdGluL2JsYWNrYm94Lm1sIiwiL3dvcmtzcGFjZV9yb290L21haW4ubWwiXSwibWFwcGluZ3MiOiJJQUFBQSxVQUFBO0FBQUEsSUFBQUMsV0FBQTtBQUFBLElBQUFDLGFBQUE7QUFBQSxJQUFBQyxZQUFBO0FBQUEsSUFBQUMsMEJBQUE7QUFBQSxJQUFBQyw4QkFBQTtBQUFBLElBQUFDLFdBQUE7QUFBQSxJQUFBQyxzQkFBQTtBQUFBLFlBQUFDLFdBQUFDLEdBQUFDO0FBQUFBLElBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxZQUFBQyxXQUFBRixHQUFBQyxJQUFBRTtBQUFBQSxJQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsWUFBQUMsV0FBQUosR0FBQUMsSUFBQUUsSUFBQUU7QUFBQUEsSUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFlBQUFDLFdBQUFOLEdBQUFDLElBQUFFLElBQUFFLElBQUFFLElBQUFDO0FBQUFBLElBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFDLGNBQUE7QUFBQSxJQUFBQyxnQkFBQTtBQUFBLElBQUFDLFNBQUE7QUFBQSxJQUFBQyx5QkFBQTtBQUFBLElBQUFDLE1BQUE7QUFBQSxJQUFBQyxjQUFBO0FBQUEsSUFBQUMsZ0NBQUE7QUFBQSxJQUFBQyx1QkFBQTtBQUFBLElBQUFDLGtCQUFBO0FBQUEsSUFBQUMsV0FBQTtBQUFBLElBQUFDLFFDSVk7QUFBQSxJQUFBQyxTQUFtQztB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QTtBQUFBO0FBQUE7QUFBQSxtQ0FBQXdFLEtBQUF4RTtBQUFBQSwyQkFDRTtBQUFBO0FBQUEsNkJBQUF5RSxNQUE0QjtBQUFBLDZCQUFBeEMsS0FFb0M7QUFBQSw2QkFBQUMsS0FDRDtBQUFBLDRCQUM3RDtBQUFBLDRCQUNBO0FBQUE7QUFBQSxtQ0FDK0I7QUFBQSw2QkFBQXdDO0FBQUFBLCtCQUFYO0FBQUEsaUNBQVU7QUFBQSw2QkFBQUMsTUFBOUI7QUFBQTtBQUFBO0FBQUEsbUNBQzhCO0FBQUEsNkJBQUFDO0FBQUFBLCtCQUFYO0FBQUEsaUNBQVU7QUFBQSw2QkFBQUMsTUFBN0I7QUFBQTtBQUFBO0FBQUEsMkJBRUY7QUFBQSwwQkFBZSxFQUFDO0FBQUE7QUFBQSxjQUNuQjtBQUFBLGFBb0J1QyxFQUFDO0FBQUE7QUFBQSxZQUFBQyxrQkFBQTlFO0FBQUFBO0FBQUFBLEtBQUErRTtBQUFBQSxPQUlwQjtBQUFBO0FBQUEsa0JBQUEvRSxXQUFBQyxLQUFZLFVBQWdCLGlCQUFnQjtBQUFBO0FBQUE7QUFBQSxPQUNqRTtBQUFBLFVBQXFCO0FBQUE7QUFBQSxJQUFyQjtBQUFBO0FBQUEsTUFBQWlELElBQ1U7QUFBQSxNQUFBQyxJQUNBO0FBQUEsS0FDUjtBQUFBO0FBQUEsUUFBQXRDLFlBRVc7QUFBQSxJQUFiO0FBQUE7QUFBQSxzQkFBQUM7QUFBQUEsY0FBQTtBQUFBLG9CQUFBQSxTQUFBQSxRRHBPRiwwQkNvT0U7QUFBQSxhQUNvQjtBQUFBO0FBQUEsc0JBQUFkLE9BQXBCLDJCQUFvQjtBQUFBO0FBQUEsR0FJcEI7QUFBQSxHQUNBO0FBQUEsR0FDQTtBQUFBLE9BQUFnRixnQkFBMkI7QUFBQTtBQUFBO0FBQUEsRUQzTzdCIiwic291cmNlc0NvbnRlbnQiOlsiKCogZ2VuZXJhdGVkIGNvZGUgKikiLCJvcGVuIEpzX29mX29jYW1sXHJcbm9wZW4gSnNfb2Zfb2NhbWxfbHd0XHJcblxyXG5sZXQgZG9jdW1lbnQgPSBEb21faHRtbC5kb2N1bWVudFxyXG5sZXQgd29ybGQgPSBEb21faHRtbC5nZXRFbGVtZW50QnlJZF9leG4gXCJ3b3JsZFwiXHJcblxyXG4oKiDQodC+0YHRgtC+0Y/QvdC40LUg0LrQsNC20LTQvtCz0L4gQ3JlZXQgKilcclxudHlwZSBjcmVldF9zdGF0ZSA9IHtcclxuICBtdXRhYmxlIHg6IGludDtcclxuICBtdXRhYmxlIHk6IGludDtcclxuICBtdXRhYmxlIGR4OiBpbnQ7XHJcbiAgbXV0YWJsZSBkeTogaW50O1xyXG4gIG11dGFibGUgaW5mZWN0ZWQ6IGJvb2w7XHJcbiAgbXV0YWJsZSBiZXJzZXJrOiBib29sO1xyXG4gIG11dGFibGUgbWVhbjogYm9vbDtcclxuICBtdXRhYmxlIHNpemU6IGludDtcclxuICBtdXRhYmxlIGlzX2JlaW5nX2RyYWdnZWQ6IGJvb2w7XHJcbiAgbXV0YWJsZSBpbnZ1bG5lcmFibGU6IGJvb2w7XHJcbn1cclxuXHJcbigqINCS0YHQtSBDcmVldCfRiyAqKVxyXG5sZXQgY3JlZXRzIDogKERvbV9odG1sLmRpdkVsZW1lbnQgSnMudCAqIGNyZWV0X3N0YXRlKSBsaXN0IHJlZiA9IHJlZiBbXVxyXG5cclxuKCog0KHQvtC30LTQsNC90LjQtSBET00t0Y3Qu9C10LzQtdC90YLQsCAqKVxyXG5sZXQgY3JlYXRlX2NyZWV0IGNvbG9yIHggeSBzaXplID1cclxuICBsZXQgZCA9IERvbV9odG1sLmNyZWF0ZURpdiBkb2N1bWVudCBpblxyXG4gIGQjIy5jbGFzc05hbWUgOj0gSnMuc3RyaW5nIFwiY3JlZXRcIjtcclxuICBkIyMuc3R5bGUjIy5iYWNrZ3JvdW5kQ29sb3IgOj0gSnMuc3RyaW5nIGNvbG9yO1xyXG4gIGQjIy5zdHlsZSMjLnBvc2l0aW9uIDo9IEpzLnN0cmluZyBcImFic29sdXRlXCI7XHJcbiAgZCMjLnN0eWxlIyMud2lkdGggOj0gSnMuc3RyaW5nIChzdHJpbmdfb2ZfaW50IHNpemUgXiBcInB4XCIpO1xyXG4gIGQjIy5zdHlsZSMjLmhlaWdodCA6PSBKcy5zdHJpbmcgKHN0cmluZ19vZl9pbnQgc2l6ZSBeIFwicHhcIik7XHJcbiAgZCMjLnN0eWxlIyMuYm9yZGVyUmFkaXVzIDo9IEpzLnN0cmluZyBcIjUwJVwiO1xyXG4gIGQjIy5zdHlsZSMjLmxlZnQgOj0gSnMuc3RyaW5nIChzdHJpbmdfb2ZfaW50IHggXiBcInB4XCIpO1xyXG4gIGQjIy5zdHlsZSMjLnRvcCA6PSBKcy5zdHJpbmcgKHN0cmluZ19vZl9pbnQgeSBeIFwicHhcIik7XHJcbiAgRG9tLmFwcGVuZENoaWxkIHdvcmxkIGQ7XHJcbiAgZFxyXG5cclxuKCog0J/RgNC+0LLQtdGA0LrQsCDRgdC+0L/RgNC40LrQvtGB0L3QvtCy0LXQvdC40Y8gKilcclxubGV0IGlzX3RvdWNoaW5nIHN0MSBzdDIgPVxyXG4gIGxldCByMSA9IHN0MS5zaXplIC8gMiBhbmQgcjIgPSBzdDIuc2l6ZSAvIDIgaW5cclxuICBsZXQgZHggPSAoc3QxLnggKyByMSkgLSAoc3QyLnggKyByMikgaW5cclxuICBsZXQgZHkgPSAoc3QxLnkgKyByMSkgLSAoc3QyLnkgKyByMikgaW5cclxuICBsZXQgZGlzdDIgPSBkeCAqIGR4ICsgZHkgKiBkeSBpblxyXG4gIGRpc3QyIDwgKHIxICsgcjIpICogKHIxICsgcjIpXHJcblxyXG4oKiBCZXJzZXJrINGA0LDRgdGC0ZHRgiDQv9C+0YHRgtC10L/QtdC90L3QviAqKVxyXG5sZXQgYmVyc2Vya19ncm93dGggZCBzdCA9XHJcbiAgbGV0IGluaXRpYWxfc2l6ZSA9IHN0LnNpemUgaW5cclxuICBsZXQgdGFyZ2V0X3NpemUgPSBpbml0aWFsX3NpemUgKiA0IGluXHJcbiAgbGV0IHJlYyBsb29wICgpID1cclxuICAgIGlmIHN0LmJlcnNlcmsgJiYgc3Quc2l6ZSA8IHRhcmdldF9zaXplIHRoZW4gKFxyXG4gICAgICBzdC5zaXplIDwtIHN0LnNpemUgKyAxO1xyXG4gICAgICBkIyMuc3R5bGUjIy53aWR0aCA6PSBKcy5zdHJpbmcgKHN0cmluZ19vZl9pbnQgc3Quc2l6ZSBeIFwicHhcIik7XHJcbiAgICAgIGQjIy5zdHlsZSMjLmhlaWdodCA6PSBKcy5zdHJpbmcgKHN0cmluZ19vZl9pbnQgc3Quc2l6ZSBeIFwicHhcIik7XHJcbiAgICAgIGxldCVsd3QgKCkgPSBMd3RfanMuc2xlZXAgMC4yIGluXHJcbiAgICAgIGxvb3AgKClcclxuICAgICkgZWxzZSBMd3QucmV0dXJuX3VuaXRcclxuICBpblxyXG4gIGxvb3AgKClcclxuXHJcbigqIE1lYW4g0L/RgNC10YHQu9C10LTRg9C10YIg0LHQu9C40LbQsNC50YjQuNGFINC30LTQvtGA0L7QstGL0YUgKilcclxubGV0IGZpbmRfY2xvc2VzdF9oZWFsdGh5IHN0ID1cclxuICBsZXQgYmVzdCA9IHJlZiBOb25lIGFuZCBtaW5fZCA9IHJlZiBtYXhfaW50IGluXHJcbiAgTGlzdC5pdGVyIChmdW4gKF8sIG90aGVyKSAtPlxyXG4gICAgaWYgbm90IG90aGVyLmluZmVjdGVkICYmIG5vdCBvdGhlci5pc19iZWluZ19kcmFnZ2VkIHRoZW4gKFxyXG4gICAgICBsZXQgZHggPSBvdGhlci54IC0gc3QueCBhbmQgZHkgPSBvdGhlci55IC0gc3QueSBpblxyXG4gICAgICBsZXQgZCA9IGR4ICogZHggKyBkeSAqIGR5IGluXHJcbiAgICAgIGlmIGQgPCAhbWluX2QgdGhlbiAobWluX2QgOj0gZDsgYmVzdCA6PSBTb21lIG90aGVyKVxyXG4gICAgKVxyXG4gICkgIWNyZWV0cztcclxuICAhYmVzdFxyXG5cclxubGV0IG1lYW5fY2hhc2Ugc3QgPVxyXG4gIG1hdGNoIGZpbmRfY2xvc2VzdF9oZWFsdGh5IHN0IHdpdGhcclxuICB8IFNvbWUgdCAtPlxyXG4gICAgICBsZXQgZHggPSB0LnggLSBzdC54IGFuZCBkeSA9IHQueSAtIHN0LnkgaW5cclxuICAgICAgaWYgZHggPD4gMCB0aGVuIHN0LmR4IDwtIGlmIGR4ID4gMCB0aGVuIDIgZWxzZSAtMjtcclxuICAgICAgaWYgZHkgPD4gMCB0aGVuIHN0LmR5IDwtIGlmIGR5ID4gMCB0aGVuIDIgZWxzZSAtMjtcclxuICB8IE5vbmUgLT4gKClcclxuXHJcbigqINCX0LDRgNCw0LbQtdC90LjQtSBDcmVldCfQsCAqKVxyXG5sZXQgaW5mZWN0X2NyZWV0IChkLCBzdCkgPVxyXG4gIGlmIG5vdCBzdC5pbmZlY3RlZCAmJiBub3Qgc3QuaW52dWxuZXJhYmxlICYmIG5vdCBzdC5pc19iZWluZ19kcmFnZ2VkIHRoZW4gKFxyXG4gICAgc3QuaW5mZWN0ZWQgPC0gdHJ1ZTtcclxuICAgIGQjIy5zdHlsZSMjLmJhY2tncm91bmRDb2xvciA6PSBKcy5zdHJpbmcgXCJyZWRcIjtcclxuXHJcbiAgICBsZXQgciA9IFJhbmRvbS5mbG9hdCAxLjAgaW5cclxuICAgIGlmIHIgPCAwLjEwIHRoZW4gKFxyXG4gICAgICAoKiBCZXJzZXJrICopXHJcbiAgICAgIHN0LmJlcnNlcmsgPC0gdHJ1ZTtcclxuICAgICAgc3QubWVhbiA8LSBmYWxzZTtcclxuICAgICAgZCMjLnN0eWxlIyMuYmFja2dyb3VuZENvbG9yIDo9IEpzLnN0cmluZyBcInB1cnBsZVwiO1xyXG4gICAgICBMd3QuYXN5bmMgKGZ1biAoKSAtPiBiZXJzZXJrX2dyb3d0aCBkIHN0KVxyXG4gICAgKVxyXG4gICAgZWxzZSBpZiByIDwgMC4yMCB0aGVuIChcclxuICAgICAgKCogTWVhbiAqKVxyXG4gICAgICBzdC5tZWFuIDwtIHRydWU7XHJcbiAgICAgIHN0LmJlcnNlcmsgPC0gZmFsc2U7XHJcbiAgICAgIHN0LnNpemUgPC0gaW50X29mX2Zsb2F0IChmbG9hdCBzdC5zaXplICouIDAuODUpO1xyXG4gICAgICBkIyMuc3R5bGUjIy5iYWNrZ3JvdW5kQ29sb3IgOj0gSnMuc3RyaW5nIFwib3JhbmdlXCI7XHJcbiAgICAgIGQjIy5zdHlsZSMjLndpZHRoIDo9IEpzLnN0cmluZyAoc3RyaW5nX29mX2ludCBzdC5zaXplIF4gXCJweFwiKTtcclxuICAgICAgZCMjLnN0eWxlIyMuaGVpZ2h0IDo9IEpzLnN0cmluZyAoc3RyaW5nX29mX2ludCBzdC5zaXplIF4gXCJweFwiKTtcclxuICAgIClcclxuICApXHJcblxyXG4oKiDQn9C+0L/Ri9GC0LrQsCDQt9Cw0YDQsNC30LjRgtGMINC00YDRg9Cz0LjRhSAqKVxyXG5sZXQgdHJ5X2luZmVjdF9vdGhlcnMgKF8sIHN0KSA9XHJcbiAgaWYgc3QuaW5mZWN0ZWQgdGhlbiAoXHJcbiAgICBMaXN0Lml0ZXIgKGZ1biAoZDIsIHN0MikgLT5cclxuICAgICAgaWYgbm90IHN0Mi5pbmZlY3RlZCAmJiBub3Qgc3QyLmludnVsbmVyYWJsZSAmJiBub3Qgc3QyLmlzX2JlaW5nX2RyYWdnZWQgdGhlblxyXG4gICAgICAgIGlmIGlzX3RvdWNoaW5nIHN0IHN0MiAmJiBSYW5kb20uZmxvYXQgMS4wIDwgMC4wMiB0aGVuXHJcbiAgICAgICAgICBpbmZlY3RfY3JlZXQgKGQyLCBzdDIpXHJcbiAgICApICFjcmVldHNcclxuICApXHJcblxyXG4oKiDQkNCy0YLQvtC80LDRgtC40YfQtdGB0LrQvtC1INC00LLQuNC20LXQvdC40LUgKilcclxubGV0IHJlYyBtb3ZlX2NyZWV0IGQgc3QgPVxyXG4gIGlmIG5vdCBzdC5pc19iZWluZ19kcmFnZ2VkIHRoZW4gKFxyXG4gICAgaWYgc3QubWVhbiB0aGVuIG1lYW5fY2hhc2Ugc3Q7XHJcblxyXG4gICAgKCog0YHQu9GD0YfQsNC50L3QsNGPINGB0LzQtdC90LAg0L3QsNC/0YDQsNCy0LvQtdC90LjRjyAqKVxyXG4gICAgaWYgUmFuZG9tLmZsb2F0IDEuMCA8IDAuMDEgdGhlbiAoXHJcbiAgICAgIHN0LmR4IDwtIChSYW5kb20uaW50IDUpIC0gMjtcclxuICAgICAgc3QuZHkgPC0gKFJhbmRvbS5pbnQgNSkgLSAyO1xyXG4gICAgKTtcclxuXHJcbiAgICBsZXQgdyA9IHdvcmxkIyMuY2xpZW50V2lkdGggYW5kIGggPSB3b3JsZCMjLmNsaWVudEhlaWdodCBpblxyXG4gICAgbGV0IG54ID0gc3QueCArIHN0LmR4IGFuZCBueSA9IHN0LnkgKyBzdC5keSBpblxyXG4gICAgbGV0IGR4LCBueCA9XHJcbiAgICAgIGlmIG54IDwgMCB8fCBueCA+IHcgLSBzdC5zaXplIHRoZW4gKC1zdC5keCwgbWF4IDAgKG1pbiAodyAtIHN0LnNpemUpIG54KSlcclxuICAgICAgZWxzZSAoc3QuZHgsIG54KVxyXG4gICAgaW5cclxuICAgIGxldCBkeSwgbnkgPVxyXG4gICAgICBpZiBueSA8IDAgfHwgbnkgPiBoIC0gc3Quc2l6ZSB0aGVuICgtc3QuZHksIG1heCAwIChtaW4gKGggLSBzdC5zaXplKSBueSkpXHJcbiAgICAgIGVsc2UgKHN0LmR5LCBueSlcclxuICAgIGluXHJcbiAgICBzdC5keCA8LSBkeDsgc3QuZHkgPC0gZHk7IHN0LnggPC0gbng7IHN0LnkgPC0gbnk7XHJcblxyXG4gICAgKCog0LfQsNGA0LDQttC10L3QuNC1INC/0YDQuCDQstGF0L7QtNC1INCyINCy0LXRgNGF0L3RjtGOINC30L7QvdGDICopXHJcbiAgICBpZiBzdC55IDwgNTAgJiYgbm90IHN0LmluZmVjdGVkICYmIG5vdCBzdC5pbnZ1bG5lcmFibGUgdGhlblxyXG4gICAgICBpbmZlY3RfY3JlZXQgKGQsIHN0KTtcclxuXHJcbiAgICAoKiDQu9C10YfQtdC90LjQtSDQv9GA0Lgg0L7Qv9GD0YHQutCw0L3QuNC4INCy0L3QuNC3LCDRgtC+0LvRjNC60L4g0LXRgdC70Lgg0L/QtdGA0LXRgtCw0YnQtdC9INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC8ICopXHJcbiAgICBpZiBzdC5pbmZlY3RlZCAmJiBzdC5pc19iZWluZ19kcmFnZ2VkICYmIHN0LnkgPiBoIC0gNzAgdGhlbiAoXHJcbiAgICAgIHN0LmluZmVjdGVkIDwtIGZhbHNlO1xyXG4gICAgICBzdC5iZXJzZXJrIDwtIGZhbHNlO1xyXG4gICAgICBzdC5tZWFuIDwtIGZhbHNlO1xyXG4gICAgICBzdC5zaXplIDwtIDIwO1xyXG4gICAgICBkIyMuc3R5bGUjIy5iYWNrZ3JvdW5kQ29sb3IgOj0gSnMuc3RyaW5nIFwibGltZVwiO1xyXG4gICAgICBkIyMuc3R5bGUjIy53aWR0aCA6PSBKcy5zdHJpbmcgXCIyMHB4XCI7XHJcbiAgICAgIGQjIy5zdHlsZSMjLmhlaWdodCA6PSBKcy5zdHJpbmcgXCIyMHB4XCI7XHJcbiAgICApO1xyXG5cclxuICAgIGQjIy5zdHlsZSMjLmxlZnQgOj0gSnMuc3RyaW5nIChzdHJpbmdfb2ZfaW50IHN0LnggXiBcInB4XCIpO1xyXG4gICAgZCMjLnN0eWxlIyMudG9wIDo9IEpzLnN0cmluZyAoc3RyaW5nX29mX2ludCBzdC55IF4gXCJweFwiKTtcclxuICApO1xyXG5cclxuICB0cnlfaW5mZWN0X290aGVycyAoZCwgc3QpO1xyXG4gIGxldCBkZWxheSA9IGlmIHN0LmluZmVjdGVkIHRoZW4gMC4wNSBlbHNlIDAuMDMgaW5cclxuICBsZXQlbHd0ICgpID0gTHd0X2pzLnNsZWVwIGRlbGF5IGluXHJcbiAgbW92ZV9jcmVldCBkIHN0XHJcblxyXG4oKiDQn9C10YDQtdGC0LDRgdC60LjQstCw0L3QuNC1ICopXHJcbmxldCBtYWtlX2RyYWdnYWJsZSBkIHN0ID1cclxuICBsZXQgb3BlbiBMd3RfanNfZXZlbnRzIGluXHJcbiAgbGV0IG9mZnNldF94ID0gcmVmIDAgYW5kIG9mZnNldF95ID0gcmVmIDAgaW5cclxuICBsZXQgd29ybGRfcmVjdCA9IHJlZiAod29ybGQjI2dldEJvdW5kaW5nQ2xpZW50UmVjdCkgaW5cclxuXHJcbiAgTHd0LmFzeW5jIChmdW4gKCkgLT5cclxuICAgIG1vdXNlZG93bnMgZCAoZnVuIGV2IF8gLT5cclxuICAgICAgc3QuaXNfYmVpbmdfZHJhZ2dlZCA8LSB0cnVlO1xyXG4gICAgICBzdC5pbnZ1bG5lcmFibGUgPC0gdHJ1ZTtcclxuICAgICAgd29ybGRfcmVjdCA6PSB3b3JsZCMjZ2V0Qm91bmRpbmdDbGllbnRSZWN0O1xyXG4gICAgICBsZXQgcmVjdCA9IGQjI2dldEJvdW5kaW5nQ2xpZW50UmVjdCBpblxyXG4gICAgICBvZmZzZXRfeCA6PSBpbnRfb2ZfZmxvYXQgKGZsb2F0X29mX2ludCBldiMjLmNsaWVudFggLS4gcmVjdCMjLmxlZnQpO1xyXG4gICAgICBvZmZzZXRfeSA6PSBpbnRfb2ZfZmxvYXQgKGZsb2F0X29mX2ludCBldiMjLmNsaWVudFkgLS4gcmVjdCMjLnRvcCk7XHJcbiAgICAgIEx3dC5yZXR1cm5fdW5pdClcclxuICApO1xyXG5cclxuICBMd3QuYXN5bmMgKGZ1biAoKSAtPlxyXG4gICAgbW91c2V1cHMgZG9jdW1lbnQgKGZ1biBfIF8gLT5cclxuICAgICAgc3QuaXNfYmVpbmdfZHJhZ2dlZCA8LSBmYWxzZTtcclxuICAgICAgc3QuaW52dWxuZXJhYmxlIDwtIGZhbHNlO1xyXG4gICAgICBMd3QucmV0dXJuX3VuaXQpXHJcbiAgKTtcclxuXHJcbiAgTHd0LmFzeW5jIChmdW4gKCkgLT5cclxuICAgIG1vdXNlbW92ZXMgZG9jdW1lbnQgKGZ1biBldiBfIC0+XHJcbiAgICAgIGlmIHN0LmlzX2JlaW5nX2RyYWdnZWQgdGhlbiAoXHJcbiAgICAgICAgbGV0IHdyID0gIXdvcmxkX3JlY3QgaW5cclxuICAgICAgICBsZXQgbnggPSBpbnRfb2ZfZmxvYXQgKGZsb2F0X29mX2ludCBldiMjLmNsaWVudFggLS4gd3IjIy5sZWZ0KSAtICFvZmZzZXRfeCBpblxyXG4gICAgICAgIGxldCBueSA9IGludF9vZl9mbG9hdCAoZmxvYXRfb2ZfaW50IGV2IyMuY2xpZW50WSAtLiB3ciMjLnRvcCkgLSAhb2Zmc2V0X3kgaW5cclxuICAgICAgICBzdC54IDwtIG54O1xyXG4gICAgICAgIHN0LnkgPC0gbnk7XHJcbiAgICAgICAgZCMjLnN0eWxlIyMubGVmdCA6PSBKcy5zdHJpbmcgKHN0cmluZ19vZl9pbnQgbnggXiBcInB4XCIpO1xyXG4gICAgICAgIGQjIy5zdHlsZSMjLnRvcCA6PSBKcy5zdHJpbmcgKHN0cmluZ19vZl9pbnQgbnkgXiBcInB4XCIpO1xyXG4gICAgICApO1xyXG4gICAgICBMd3QucmV0dXJuX3VuaXQpXHJcbiAgKTtcclxuICBMd3QucmV0dXJuX3VuaXRcclxuXHJcbigqINCU0L7QsdCw0LLQu9C10L3QuNC1INC90L7QstC+0LPQviBDcmVldCAqKVxyXG5sZXQgYWRkX2NyZWV0IGNvbG9yIHggeSA9XHJcbiAgbGV0IHNpemUgPSAyMCBpblxyXG4gIGxldCBkID0gY3JlYXRlX2NyZWV0IGNvbG9yIHggeSBzaXplIGluXHJcbiAgbGV0IHN0ID0ge1xyXG4gICAgeDsgeTtcclxuICAgIGR4ID0gKGxldCB2ID0gKFJhbmRvbS5pbnQgNSkgLSAyIGluIGlmIHYgPSAwIHRoZW4gMSBlbHNlIHYpO1xyXG4gICAgZHkgPSAobGV0IHYgPSAoUmFuZG9tLmludCA1KSAtIDIgaW4gaWYgdiA9IDAgdGhlbiAxIGVsc2Ugdik7XHJcbiAgICBpbmZlY3RlZCA9IGZhbHNlO1xyXG4gICAgYmVyc2VyayA9IGZhbHNlO1xyXG4gICAgbWVhbiA9IGZhbHNlO1xyXG4gICAgc2l6ZTtcclxuICAgIGlzX2JlaW5nX2RyYWdnZWQgPSBmYWxzZTtcclxuICAgIGludnVsbmVyYWJsZSA9IGZhbHNlO1xyXG4gIH0gaW5cclxuICBjcmVldHMgOj0gKGQsIHN0KSA6OiAhY3JlZXRzO1xyXG4gIEx3dC5hc3luYyAoZnVuICgpIC0+IG1vdmVfY3JlZXQgZCBzdCk7XHJcbiAgTHd0LmFzeW5jIChmdW4gKCkgLT4gbWFrZV9kcmFnZ2FibGUgZCBzdClcclxuXHJcbigqINCg0LDQt9C80L3QvtC20LXQvdC40LUgKilcclxubGV0IHJlYyByZXByb2R1Y3Rpb25fbG9vcCAoKSA9XHJcbiAgbGV0IGhlYWx0aHlfZXhpc3RzID0gTGlzdC5leGlzdHMgKGZ1biAoXywgc3QpIC0+IG5vdCBzdC5pbmZlY3RlZCkgIWNyZWV0cyBpblxyXG4gIGlmIGhlYWx0aHlfZXhpc3RzICYmIFJhbmRvbS5mbG9hdCAxLjAgPCAwLjMgdGhlbiAoXHJcbiAgICBsZXQgeCA9IFJhbmRvbS5pbnQgKHdvcmxkIyMuY2xpZW50V2lkdGggLSAzMCkgaW5cclxuICAgIGxldCB5ID0gUmFuZG9tLmludCAod29ybGQjIy5jbGllbnRIZWlnaHQgLSAzMCkgaW5cclxuICAgIGFkZF9jcmVldCBcImxpbWVcIiB4IHk7XHJcbiAgKTtcclxuICBsZXQlbHd0ICgpID0gTHd0X2pzLnNsZWVwIDIuMCBpblxyXG4gIHJlcHJvZHVjdGlvbl9sb29wICgpXHJcblxyXG4oKiBtYWluICopXHJcbmxldCAoKSA9XHJcbiAgUmFuZG9tLnNlbGZfaW5pdCAoKTtcclxuICBhZGRfY3JlZXQgXCJsaW1lXCIgMjAwIDIwMDtcclxuICBMd3QuYXN5bmMgcmVwcm9kdWN0aW9uX2xvb3BcclxuIl0sImlnbm9yZUxpc3QiOlswXX19XX0=
